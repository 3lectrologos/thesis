% Fonts
\RequirePackage{fontspec}
%\RequirePackage{unicode-math}
\setmainfont[Mapping=tex-text]{Linux Libertine}
%\setmathfont{Libertinus Math}
\setsansfont{Myriad Pro Condensed}
\setmonofont[Scale=0.9]{Consolas}

% Colors
\RequirePackage[usenames,dvipsnames]{xcolor}
\definecolor{bgcolor}{HTML}{EEEEEE}

\definecolor{textcolor}{HTML}{000000}
\definecolor{darkcolor}{HTML}{555555}
\definecolor{col1}{HTML}{9085b8}
\definecolor{col1dark}{HTML}{443480}
\colorlet{col1light}{col1!50!white}
\definecolor{col2}{HTML}{ea9530}
\definecolor{col3}{HTML}{d34f99}
\definecolor{col4}{HTML}{67a832}

% Matplotlib "Paired" colormap
\definecolor{gcol3light}{HTML}{a6cee3}
\definecolor{gcol3}{HTML}{1f78b4}

\definecolor{gcol5light}{HTML}{b2df8a}
\definecolor{gcol5}{HTML}{33a02c}

\definecolor{gcol4light}{HTML}{fb9a99}
\definecolor{gcol4}{HTML}{e31a1c}

\definecolor{gcol2light}{HTML}{fdbf6f}
\definecolor{gcol2}{HTML}{ff7f00}

\definecolor{gcol1light}{HTML}{cab2d6}
\definecolor{gcol1}{HTML}{6a3d9a}

\definecolor{gcol6light}{HTML}{ffff99}
\definecolor{gcol6}{HTML}{b15928}

% Plotting
\RequirePackage{tikz}
\usetikzlibrary{shapes.geometric,positioning,patterns}
\RequirePackage{pgfplots}
\pgfplotsset{compat=newest}

% Custom tikz fill pattern
% defining the new dimensions and parameters
\newlength{\hatchspread}
\newlength{\hatchthickness}
\newlength{\hatchshift}
\newcommand{\hatchcolor}{}
% declaring the keys in tikz
\tikzset{hatchspread/.code={\setlength{\hatchspread}{#1}},
         hatchthickness/.code={\setlength{\hatchthickness}{#1}},
         hatchshift/.code={\setlength{\hatchshift}{#1}},% must be >= 0
         hatchcolor/.code={\renewcommand{\hatchcolor}{#1}}}
% setting the default values
\tikzset{hatchspread=15pt,
         hatchthickness=5pt,
         hatchshift=0pt,% must be >= 0
         hatchcolor=col1dark!20!white}
% declaring the pattern
\pgfdeclarepatternformonly[\hatchspread,\hatchthickness,\hatchshift,\hatchcolor]% variables
   {custom north east lines}% name
   {\pgfqpoint{\dimexpr-2\hatchthickness}{\dimexpr-2\hatchthickness}}% lower left corner
   {\pgfqpoint{\dimexpr\hatchspread+2\hatchthickness}{\dimexpr\hatchspread+2\hatchthickness}}% upper right corner
   {\pgfqpoint{\dimexpr\hatchspread}{\dimexpr\hatchspread}}% tile size
   {% shape description
    \pgfsetlinewidth{\hatchthickness}
    \pgfpathmoveto{\pgfqpoint{\dimexpr\hatchshift-0.15pt}{-0.15pt}}
    \pgfpathlineto{\pgfqpoint{\dimexpr\hatchspread+0.15pt}{\dimexpr\hatchspread-\hatchshift+0.15pt}}
    \ifdim \hatchshift > 0pt
      \pgfpathmoveto{\pgfqpoint{-0.15pt}{\dimexpr\hatchspread-\hatchshift-0.15pt}}
      \pgfpathlineto{\pgfqpoint{\dimexpr\hatchshift+0.15pt}{\dimexpr\hatchspread+0.15pt}}
    \fi
    \pgfsetstrokecolor{\hatchcolor}
%    \pgfsetdash{{1pt}{1pt}}{0pt}% dashing cannot work correctly in all situation this way
    \pgfusepath{stroke}
   }

% Math
\RequirePackage{bm}
\def\*#1{\bm{#1}}
